$(document).ready(function(){var s={mods:{},roles:{},channels:{},messages:{}};var e=window.location.pathname;switch(e){case"/commands":$(".link-commands").addClass("selected");break;case"/faq":$(".link-faq").addClass("selected");break}$(".logo-text").click(function(){window.location.reload()});$(".snow-login").click(function(e){e.preventDefault();window.location="/auth/discord"});$(".snow-logout").click(function(e){e.preventDefault();window.location="/logout"});$(".server").click(function(e){var a=$(e.currentTarget).attr("id");window.location="/dashboard/"+a});$(".btn-dash").click(function(e){window.location="/dashboard/"});$(".switch").click(function(e){var a=$(e.currentTarget);var t=a.attr("name");var n=$(".switch-box").find("."+t);n.animate({height:"toggle"});$(".btn-save").attr("disabled",false)});$("input,textarea").keyup(function(e){$(".btn-save").attr("disabled",false)});$(".btn-save").click(function(e){e.preventDefault();$(".btn-save").attr("disabled",true);var a=$(".switch");for(var t=0;t<a.length;t++){var n=a[t].name;var r=a[t].checked;s["mods"][n]=r}c('input[type="text"]');c("textarea");var o=$(".view-server").prop("id");var i={id:o,updates:s};$.post("/api/server/update",i,function(e,a,t){if(e.success){l("green","Successfully updated server settings")}else if(e.error){l("red",e.error)}else{l("red","Something went wrong. Please try again later.")}})});function c(e){var a=$(e);for(var t=0;t<a.length;t++){var n=a[t].name.split(":");var r=n[0];var o=n[1];var i=a[t].value;s[r][o]=i}}function l(e,a){$(".server-notif").css("color",e);$(".server-notif").text(a);$(".server-notif").fadeIn(500).delay(2e3).fadeOut(500)}});