$(document).ready(function(){var c={channels:{},mods:{},roles:{},settings:{}};var e=window.location.pathname;switch(e){case"/commands":$(".nav-commands").addClass("selected");break;case"/faq":$(".nav-faq").addClass("selected");break;case"/dashboard":$(".nav-profile").addClass("selected");break}$(".logo").click(function(){window.location="/"});$(".login").click(function(e){e.preventDefault();window.location="/auth/discord"});$(".logout").click(function(e){e.preventDefault();window.location="/logout"});$(".server").click(function(e){var a=e.currentTarget.dataset.serverId;window.location="/dashboard/"+a});$(".switch").click(function(e){$(".save").attr("disabled",false)});$("input").keyup(function(e){$(".save").attr("disabled",false)});$(".save").click(function(e){e.preventDefault();$(".save").attr("disabled",true);var a=$(".switch");for(var t=0;t<a.length;t++){var n=a[t].name;var s=a[t].checked;c["mods"][n]=s}i();var r=document.getElementById("settings");var o={id:r.dataset.serverId,updates:c};$.post("/api/server/update",o,function(e,a,t){if(e.success){l("#008000","Successfully updated server settings!")}else if(e.error){l("#DC143C","Something went wrong. Please try again later.");console.error(e.error)}else{l("#DC143C","Something went wrong. Please try again later.")}})});function i(){var e=$('input[type="text"]');for(var a=0;a<e.length;a++){var t=e[a].name.split(":");var n=t[0];var s=t[1];var r=e[a].value;c[n][s]=r}}function l(e,a){$(".save-notice").css("color",e);$(".save-notice").text(a);$(".save-notice").fadeIn(500).delay(2e3).fadeOut(500)}});