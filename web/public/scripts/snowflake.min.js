$(document).ready(function(){var c={mods:{},roles:{},channels:{}};var e=window.location.pathname;switch(e){case"/commands":$(".nav-commands").addClass("selected");break;case"/faq":$(".nav-faq").addClass("selected");break;case"/dashboard":$(".nav-profile").addClass("selected");break}$(".logo").click(function(){window.location="/"});$(".login").click(function(e){e.preventDefault();window.location="/auth/discord"});$(".logout").click(function(e){e.preventDefault();window.location="/logout"});$(".server").click(function(e){var a=e.currentTarget.dataset.serverId;window.location="/dashboard/"+a});$(".switch").click(function(e){$(".save").attr("disabled",false)});$("input,textarea").keyup(function(e){$(".save").attr("disabled",false)});$(".save").click(function(e){e.preventDefault();$(".save").attr("disabled",true);var a=$(".switch");for(var t=0;t<a.length;t++){var n=a[t].name;var s=a[t].checked;c["mods"][n]=s}i('input[type="text"]');i("textarea");var r=document.getElementById("settings");var o={id:r.dataset.serverId,updates:c};$.post("/api/server/update",o,function(e,a,t){if(e.success){d("#008000","Successfully updated server settings!")}else if(e.error){d("#DC143C",e.error)}else{d("#DC143C","Something went wrong. Please try again later.")}})});function i(e){var a=$(e);for(var t=0;t<a.length;t++){var n=a[t].name.split(":");var s=n[0];var r=n[1];var o=a[t].value;c[s][r]=o}}function d(e,a){$(".save-notice").css("color",e);$(".save-notice").text(a);$(".save-notice").fadeIn(500).delay(2e3).fadeOut(500)}});