$(document).ready(function(){var c={mods:{},roles:{},channels:{}};var e=window.location.pathname;switch(e){case"/commands":$(".link-commands").addClass("selected");break;case"/faq":$(".link-faq").addClass("selected");break}$(".logo-text").click(function(){window.location.reload()});$(".snow-login").click(function(e){e.preventDefault();window.location="/auth/discord"});$(".snow-logout").click(function(e){e.preventDefault();window.location="/logout"});$(".server").click(function(e){var t=$(e.currentTarget).attr("id");window.location="/dashboard/"+t});$(".btn-dash").click(function(e){window.location="/dashboard/"});$(".switch").click(function(e){var t=$(e.currentTarget);var a=t.attr("name");var n=$(".switch-box").find("."+a);n.animate({height:"toggle"});$(".btn-save").attr("disabled",false)});$("input,textarea").keyup(function(e){$(".btn-save").attr("disabled",false)});$(".btn-save").click(function(e){e.preventDefault();$(".btn-save").attr("disabled",true);var t=$(".switch");for(var a=0;a<t.length;a++){var n=t[a].name;var r=t[a].checked;c["mods"][n]=r}s('input[type="text"]');s("textarea");var o=$(".view-server").prop("id");var i={id:o,updates:c};$.post("/api/server/update",i,function(e,t,a){if(e.success){l("green","Successfully updated server settings")}else if(e.error){l("red",e.error)}else{l("red","Something went wrong. Please try again later.")}})});function s(e){var t=$(e);for(var a=0;a<t.length;a++){var n=t[a].name.split(":");var r=n[0];var o=n[1];var i=t[a].value;c[r][o]=i}}function l(e,t){$(".server-notif").css("color",e);$(".server-notif").text(t);$(".server-notif").fadeIn(500).delay(2e3).fadeOut(500)}});